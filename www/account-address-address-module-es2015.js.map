{"version":3,"sources":["./src/app/account/address/address.page.html","./src/app/account/address/address.module.ts","./src/app/account/address/address.page.scss","./src/app/account/address/address.page.ts"],"names":[],"mappings":"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","file":"account-address-address-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n  <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n\\n    <ion-buttons slot=\\\"end\\\">\\n       <ion-button (click)=\\\"loadMap()\\\" shape=\\\"round\\\" fill=\\\"outline\\\" style=\\\"font-size: 12px\\\">\\n        <ion-icon slot=\\\"start\\\" name=\\\"locate\\\"></ion-icon>\\n        Mi ubicación\\n      </ion-button>\\n    </ion-buttons>\\n\\n    <ion-title> </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n \\n<ion-content>\\n \\n  \\n<div class=\\\"map-wrapper\\\">\\n<div id=\\\"map_center\\\">\\n  <img src=\\\"assets/map-marker.png\\\" width=\\\"30px\\\" />\\n</div>\\n<div #map id=\\\"map\\\"></div>\\n</div>\\n<div id=\\\"address\\\">\\n\\n<form #form=\\\"ngForm\\\" (ngSubmit)=\\\"saveAddress(form.value)\\\">\\n\\n\\n<ion-item>\\n  <ion-label position=\\\"floating\\\">{{ text.add_address }}</ion-label>\\n  <ion-textarea [(ngModel)]=\\\"address\\\" name=\\\"address\\\" required></ion-textarea>\\n</ion-item>\\n\\n<div class=\\\"ion-padding\\\">\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\" [disabled]=\\\"!form.valid\\\">Agregar dirección</ion-button>\\n</div>\\n</form>\\n\\n</div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddressPage } from './address.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddressPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [AddressPage]\n})\nexport class AddressPageModule {}\n","export default \"#map_canvas {\\n  width: 90%;\\n  height: 60%;\\n  border: 1px solid red;\\n}\\n\\n#address {\\n  padding: 10px;\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n\\n#map {\\n  width: 100%;\\n  height: 60vh;\\n}\\n\\n.map-wrapper {\\n  position: relative;\\n}\\n\\n.map-wrapper #map_center {\\n  position: absolute;\\n  z-index: 99;\\n  height: 40px;\\n  width: 40px;\\n  top: 50%;\\n  left: 50%;\\n  margin-left: -21px;\\n  margin-top: -41px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWNjb3VudC9hZGRyZXNzL0M6XFxpb25pY1xcY2FybWVuYXBwXFx1c3Vhcmlvcy9zcmNcXGFwcFxcYWNjb3VudFxcYWRkcmVzc1xcYWRkcmVzcy5wYWdlLnNjc3MiLCJzcmMvYXBwL2FjY291bnQvYWRkcmVzcy9hZGRyZXNzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFVBQUE7RUFDQSxXQUFBO0VBQ0EscUJBQUE7QUNDRjs7QURHQTtFQUNFLGFBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUNBRjs7QURHQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FDQUY7O0FER0E7RUFDRSxrQkFBQTtBQ0FGOztBREVFO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUNBSiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvYWRkcmVzcy9hZGRyZXNzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXBfY2FudmFzIHtcbiAgd2lkdGg6IDkwJTtcbiAgaGVpZ2h0OiA2MCU7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbn1cbiBcbiBcbiNhZGRyZXNzIHtcbiAgcGFkZGluZzogMTBweDtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbn1cbiBcbiNtYXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA2MHZoO1xufVxuIFxuLm1hcC13cmFwcGVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuIFxuICAjbWFwX2NlbnRlciB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHotaW5kZXg6IDk5O1xuICAgIGhlaWdodDogNDBweDtcbiAgICB3aWR0aDogNDBweDtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgbWFyZ2luLWxlZnQ6IC0yMXB4O1xuICAgIG1hcmdpbi10b3A6IC00MXB4O1xuICB9XG59IiwiI21hcF9jYW52YXMge1xuICB3aWR0aDogOTAlO1xuICBoZWlnaHQ6IDYwJTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xufVxuXG4jYWRkcmVzcyB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbiNtYXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA2MHZoO1xufVxuXG4ubWFwLXdyYXBwZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4ubWFwLXdyYXBwZXIgI21hcF9jZW50ZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk5O1xuICBoZWlnaHQ6IDQwcHg7XG4gIHdpZHRoOiA0MHB4O1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICBtYXJnaW4tbGVmdDogLTIxcHg7XG4gIG1hcmdpbi10b3A6IC00MXB4O1xufSJdfQ== */\"","import { Component, ViewChild, ElementRef,OnInit, Renderer2, Inject } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { DOCUMENT } from '@angular/common';\nimport { ServerService } from '../../service/server.service';\nimport { ToastController,NavController,Platform,LoadingController  } from '@ionic/angular';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\n\n\ndeclare var google:any;\n\n\n@Component({\n  selector: 'app-address',\n  templateUrl: './address.page.html',\n  styleUrls: ['./address.page.scss'],\n})\n\nexport class AddressPage implements OnInit {\n\n@ViewChild('map',{static:false}) mapElement: ElementRef;\n  \n  map: any;\n  lat: any;\n  lng: any;\n  address:string;\n  text:any;\n  marker: any;\n  apiKey: any = \"AIzaSyCbPKnHBd-WUUPQezPIiypp0uhdfeHESDc\";\n  constructor(\n\n    public route: ActivatedRoute,\n    public server : ServerService,\n    public toastController: ToastController,\n    public nav: NavController,\n    public loadingController: LoadingController,\n    public geolocation: Geolocation,\n    public nativeGeocoder: NativeGeocoder,\n    public renderer: Renderer2,\n    @Inject(DOCUMENT) private _document\n    ){\n    this.text = JSON.parse(localStorage.getItem('app_text'));\n  }\n\n  ngOnInit()\n  {\n   \n    this.injectSDK().then((res) => {\n      this.loadMap();\n    }); \n  }\n\n  private injectSDK(): Promise<any> {\n\n    return new Promise((resolve, reject) => {\n\n        window['mapInit'] = () => {\n            resolve(true);\n        }\n\n        let script = this.renderer.createElement('script');\n        script.id = 'googleMaps';\n\n        if(this.apiKey){\n            script.src = 'https://maps.googleapis.com/maps/api/js?key=' + this.apiKey + '&callback=mapInit';\n        } else {\n            script.src = 'https://maps.googleapis.com/maps/api/js?callback=mapInit';       \n        }\n\n        this.renderer.appendChild(this._document.body, script);\n\n    });\n  }\n\n\n  async loadMap() {\n    this.geolocation.getCurrentPosition().then((resp) => {\n      // \n      let latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n \n      console.log(resp.coords);\n\n      this.getAddressFromCoords(resp.coords.latitude, resp.coords.longitude);\n \n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n      \n      this.map.addListener('tilesloaded', () => {\n        this.getAddressFromCoords(this.map.center.lat(), this.map.center.lng())\n      });\n\n     \n     \n    }).catch((error) => {\n      console.log('Error al obtener la ubicación', error);\n    });\n  }\n \n\n\n  async getAddressFromCoords(lattitude, longitude) {\n    var geocoder = new google.maps.Geocoder;\n\n    let options: NativeGeocoderOptions = {\n      useLocale: true,\n      maxResults: 5\n    };\n \n    this.nativeGeocoder.reverseGeocode(lattitude, longitude, options)\n      .then((result: NativeGeocoderResult[]) => {\n        this.address = \"\";\n\n        let responseAddress = [];\n        for (let [key, value] of Object.entries(result[0])) {\n  \n          if(value.length > 0)\n          responseAddress.push(value);\n \n        }\n\n        responseAddress.reverse();\n        for (let value of responseAddress) {\n          this.address += value+\", \";\n        }\n        this.address = this.address.slice(0, -2);\n      })\n      .catch((error: any) =>{ \n        this.address = \"Ubicacion no Disponible!\";\n      });\n \n  }\n\n  async saveAddress(data)\n  {\n    const loading = await this.loadingController.create({\n      message: 'Porfavor espere...',\n    });\n    await loading.present();\n    var allData = {address : data.address,lat : this.map.center.lat(),lng : this.map.center.lng(),user_id : localStorage.getItem('user_id')}\n\n    this.server.saveAddress(allData).subscribe((response:any) => {\n  \n   \tthis.nav.back();\t\n\n   \tthis.presentToast(\"Dirección guardada con éxito.\");\n\n    loading.dismiss();\n\n    });\n  }\n\n  async presentToast(txt) {\n    const toast = await this.toastController.create({\n      message: txt,\n      duration: 3000,\n      position : 'top',\n      mode:'ios',\n      color:'dark'\n    });\n    toast.present();\n  }\n}\n"],"sourceRoot":"webpack:///"}