{"version":3,"sources":["./src/app/account/forgot/forgot.page.html","./src/app/account/forgot/forgot.module.ts","./src/app/account/forgot/forgot.page.scss","./src/app/account/forgot/forgot.page.ts"],"names":[],"mappings":"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","file":"account-forgot-forgot-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"white\\\">\\n  <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>¿Olvidaste tu contraseña?</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n<!--Send email for otp-->\\n<form *ngIf=\\\"!user_id && !newPassword\\\" #form=\\\"ngForm\\\" (ngSubmit)=\\\"forgot(form.value)\\\">\\n\\n  <p style=\\\"color: rgb(82, 82, 82);font-family: 'SF Pro Display';font-weight: 400;text-align: center;\\\">\\n    ingrese su correo electrónico y le enviaremos instrucciones sobre cómo restablecerlo\\n  </p>\\n  <br />\\n  <ion-row>\\n    <ion-col size=\\\"3\\\" style=\\\"margin-top: 10.5px !important;\\\">\\n     <span>Email</span>\\n    </ion-col>\\n    <ion-col size=\\\"9\\\">\\n      <ion-input type=\\\"email\\\" ngModel clearInput required name=\\\"email\\\" placeholder=\\\"Ingresa tu Email\\\"></ion-input>\\n    </ion-col>\\n  </ion-row>\\n\\n<br>\\n\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Enviar</ion-button>\\n<br>\\n</form>\\n\\n<!--Verify OTP code-->\\n<div *ngIf=\\\"user_id && !newPassword\\\">\\n\\n  <ion-card-header>\\n  <ion-card-title>Verifique su correo electrónico</ion-card-title>\\n  <ion-card-subtitle>Se ha enviado un codigo a su correo electrónico {{ this.email }}</ion-card-subtitle>\\n\\n  </ion-card-header>\\n  <br><br>\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"verify(form.value)\\\">\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Ingresa el codigo</ion-label>\\n    <ion-input type=\\\"email\\\" ngModel required name=\\\"otp\\\"></ion-input>\\n  </ion-item>\\n\\n  <br>\\n\\n  <ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Verificar</ion-button>\\n\\n  </form>\\n  <p align=\\\"center\\\">No obtuviste el codigo? <a (click)=\\\"resend()\\\">Reenviar</a></p>\\n\\n</div>\\n\\n<!--Set New Password-->\\n<div *ngIf=\\\"user_id && newPassword\\\">\\n\\n<ion-card-header>\\n<ion-card-title>Establecer nueva contraseña</ion-card-title>\\n\\n</ion-card-header>\\n<br><br>\\n<form #form=\\\"ngForm\\\" (ngSubmit)=\\\"new_password(form.value)\\\">\\n\\n<ion-item>\\n  <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Nueva contraseña\\n  </ion-label>\\n  <ion-input type=\\\"password\\\" ngModel required name=\\\"password\\\"></ion-input>\\n</ion-item>\\n\\n<ion-item>\\n  <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Confirmar contraseña</ion-label>\\n  <ion-input type=\\\"password\\\" ngModel required name=\\\"new_password\\\"></ion-input>\\n</ion-item>\\n\\n<br>\\n\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Actualizar</ion-button>\\n\\n</form>\\n<p align=\\\"center\\\">No obtuviste el codigo? <a (click)=\\\"resend()\\\">Reenviar</a></p>\\n\\n</div>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ForgotPage } from './forgot.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ForgotPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ForgotPage]\n})\nexport class ForgotPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvZm9yZ290L2ZvcmdvdC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ServerService } from '../../service/server.service';\nimport { ToastController,NavController,Platform,LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-forgot',\n  templateUrl: './forgot.page.html',\n  styleUrls: ['./forgot.page.scss'],\n})\nexport class ForgotPage implements OnInit {\n\n  user_id:any;\n  newPassword = false;\n  email:any;\n  text:any;\n  constructor(public server : ServerService,public toastController: ToastController,private nav: NavController,public loadingController: LoadingController) { \n\n   this.text = JSON.parse(localStorage.getItem('app_text'));\n\n  }\n\n  ngOnInit() {\n  }\n\n  async forgot(data,type = \"new\")\n  {\n\t\n  \tif(type == \"new\" && data.email.length == 0)\n  \t{\n  \t\tthis.presentToast('Porfavor Ingresa un Correo electronico','warning');\n  \t}\n  \telse\n  \t{\n\t\tconst loading = await this.loadingController.create({\n\t\tmessage: 'Porfavor espere...',\n\t\tmode:'ios'\n\t\t});\n\t\tawait loading.present();\n\n\t\tthis.server.forgot(data).subscribe((response:any) => {\n\t\t\t\n\t\tif(response.msg == \"error\")\n\t\t{\n\t\t\tthis.presentToast(response.error,'danger');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.presentToast(\"El codigo de recuperación ha sido enviado\",'primary');\n\t\t\tthis.user_id = response.user_id;\n\t\t\tthis.email   = data.email;\n\t\t\t\n\t\t}\n\n\t\tloading.dismiss();\n\n\t\t});\n  \t}\n  }\n\n  async verify(data)\n  {\n  \tif(data.otp.length == 0)\n  \t{\n  \t\tthis.presentToast('Porfavor ingresa el codigo.','warning');\n  \t}\n  \telse\n  \t{\n\t\tconst loading = await this.loadingController.create({\n\t\tmessage: 'Porfavor espera...',\n\t\tduration: 3000,\n\t\tmode:'ios'\n\t\t});\n\t\tawait loading.present();\n\n\t\tvar allData = {otp : data.otp,user_id : this.user_id}\n\n\t\tthis.server.verify(allData).subscribe((response:any) => {\n\n\t\tif(response.msg == \"error\")\n\t\t{\n\t\t\tthis.presentToast(response.error,'danger');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.user_id \t   = response.user_id;\n\t\t\tthis.newPassword   = true;\n\n\t\t\tthis.presentToast(\"Correo verificado con exito.\", 'success');\n\t\t}\n\n\t\tloading.dismiss();\n\n\t\t});\n  \t}\n  }\n\n  async new_password(data)\n  {\n  \tif(data.password.length == 0)\n  \t{\n  \t\tthis.presentToast('Porfavor ingresa tu nueva contraseña','warning');\n  \t}\n  \telse if(data.password != data.new_password)\n  \t{\n  \t\tthis.presentToast('Confirme que las contraseñas coincidan.','warning');\n  \t}\n  \telse\n  \t{\n\t\tconst loading = await this.loadingController.create({\n\t\tmessage: 'Please wait...',\n\t\tduration: 3000,\n\t\tmode:'ios'\n\t\t});\n\t\tawait loading.present();\n\n\t\tvar allData = {password : data.password,user_id : this.user_id}\n\n\t\tthis.server.updatePassword(allData).subscribe((response:any) => {\n\n\t\tif(response.msg == \"error\")\n\t\t{\n\t\t\tthis.presentToast(response.error,'danger');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.nav.navigateForward('/city');\n\t\t\tthis.presentToast(\"Nueva contraseña actualizada con éxito.\",'success');\n\t\t\t\n\t\t}\n\n\t\tloading.dismiss();\n\n\t\t});\n  \t}\n  }\n\n  async presentToast(txt, color) {\n    const toast = await this.toastController.create({\n      message: txt,\n      duration: 3000,\n      position : 'top',\n      mode:'ios',\n      color:color\n    });\n    toast.present();\n  }\n\n  resend()\n  {\n  \tthis.forgot({email : this.email});\n  }\n}\n"],"sourceRoot":"webpack:///"}