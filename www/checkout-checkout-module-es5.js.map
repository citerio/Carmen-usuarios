{"version":3,"sources":["src/app/checkout/checkout.page.html","src/app/checkout/checkout.module.ts","src/app/checkout/checkout.page.scss","src/app/checkout/checkout.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n  <ion-buttons slot=\\\"start\\\">\\n    &nbsp;<ion-icon slot=\\\"start\\\" name=\\\"arrow-back\\\" routerLink=\\\"/cart\\\" routerDirection=\\\"back\\\"></ion-icon> \\n  </ion-buttons>\\n    <ion-title>\\n      \\n      Pagar</ion-title>\\n      \\n  <ion-buttons slot=\\\"end\\\" *ngIf=\\\"data\\\">{{ total_amount | currency }} &nbsp;</ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"data\\\">\\n\\n<ion-card mode=\\\"ios\\\">\\n\\n<ion-card-header>\\n\\n<ion-card-title>Seleccionar tipo de orden</ion-card-title>\\n\\n</ion-card-header>\\n\\n<ion-card-content>\\n\\n<ion-list>\\n\\n\\n<ion-item *ngIf=\\\"delivery_type == 0\\\">\\n    <ion-label>Este comercio no tiene servicio a domicilio</ion-label>\\n</ion-item>\\n\\n<ion-item *ngIf=\\\"delivery_type == 1\\\">\\n<ion-label>Entrega a domicilio</ion-label>\\n<ion-radio slot=\\\"start\\\" value=\\\"1\\\" (ionSelect)=\\\"setType(1)\\\" [checked]=\\\"otype == 1\\\"></ion-radio>\\n</ion-item>\\n\\n<ion-item>\\n<ion-label>Recoger en tienda (No se cobrará envío)</ion-label>\\n<ion-radio slot=\\\"start\\\" value=\\\"2\\\" (ionSelect)=\\\"setType(2)\\\" [checked]=\\\"otype == 2\\\"></ion-radio>\\n</ion-item>\\n\\n</ion-list>\\n\\n</ion-card-content>\\n\\n</ion-card>\\n\\n<ion-card mode=\\\"ios\\\">\\n\\n  <ion-card-header>\\n\\n  <ion-card-title>\\n    Metodo de pago\\n  </ion-card-title>\\n\\n  </ion-card-header>\\n\\n  <ion-card-content>\\n  <ion-item style=\\\"font-size: 13px\\\">\\n    <ion-label><img src=\\\"https://image.flaticon.com/icons/svg/760/760503.svg\\\" style=\\\"width:30px\\\"> Pagar en efectivo</ion-label>\\n    <ion-radio slot=\\\"start\\\" value=\\\"1\\\" (ionSelect)=\\\"setPayment(1)\\\" [checked]=\\\"payment == 1\\\"></ion-radio>\\n  </ion-item>\\n\\n  <ion-item style=\\\"font-size: 13px\\\" *ngIf=\\\"stripe_id\\\">\\n    <ion-label><img src=\\\"https://www.flaticon.es/svg/static/icons/svg/138/138361.svg\\\" style=\\\"width: 30px\\\"> <span style=\\\"margin-top: -40px\\\">Pedir Terminal</span></ion-label>\\n    <ion-radio slot=\\\"start\\\" value=\\\"4\\\" (ionSelect)=\\\"setPayment(4)\\\" [checked]=\\\"payment == 4\\\"></ion-radio>\\n  </ion-item>\\n\\n  <ion-item style=\\\"font-size: 13px\\\" *ngIf=\\\"paypal_id\\\">\\n  <ion-label><img src=\\\"assets/paypal.png\\\" style=\\\"width: 90px\\\"> <span style=\\\"margin-top: -40px\\\">Pagar Via Paypal</span></ion-label>\\n  <ion-radio slot=\\\"start\\\" value=\\\"2\\\" (ionSelect)=\\\"setPayment(2)\\\" [checked]=\\\"payment == 2\\\"></ion-radio>\\n  </ion-item>\\n\\n\\n  <ion-item style=\\\"font-size: 13px\\\" *ngIf=\\\"stripe_id\\\">\\n    <ion-label><img src=\\\"assets/stripe.png\\\" style=\\\"width: 150px\\\"> <span style=\\\"margin-top: -40px\\\">Pagar Via Stripe</span></ion-label>\\n    <ion-radio slot=\\\"start\\\" value=\\\"3\\\" (ionSelect)=\\\"setPayment(3)\\\" [checked]=\\\"payment == 3\\\"></ion-radio>\\n  </ion-item>\\n  \\n\\n  <div *ngIf=\\\"stripeView\\\">\\n\\n    <p>Proporcione los siguientes detalles</p>\\n    \\n    <ion-row>\\n    \\n    <ion-col size=\\\"12\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Card Number</ion-label>\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"card_no\\\" name=\\\"card_no\\\"></ion-input>\\n    </ion-item>\\n    </ion-col>\\n    \\n    <ion-col size=\\\"6\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Exp Month</ion-label>\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"exp_month\\\" name=\\\"exp_month\\\"></ion-input>\\n    </ion-item>\\n    </ion-col>\\n    \\n    <ion-col size=\\\"6\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Exp Year</ion-label>\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"exp_year\\\" name=\\\"exp_year\\\"></ion-input>\\n    </ion-item>\\n    </ion-col>\\n    \\n    <ion-col size=\\\"12\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">CVV</ion-label>\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"cvv\\\" name=\\\"cvv\\\"></ion-input>\\n    </ion-item>\\n    </ion-col>\\n    \\n    </ion-row>\\n    \\n  </div>\\n  </ion-card-content>\\n\\n</ion-card>\\n\\n\\n<div class=\\\"ion-padding\\\">\\n\\n<ion-item>\\n<ion-textarea placeholder=\\\"Agrega Cualquier instrucción para la comida ... por ejemplo, extra picante\\\" [(ngModel)]=\\\"notes\\\" name=\\\"notes\\\"></ion-textarea>\\n</ion-item>\\n<br>\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"button\\\" [disabled]=\\\"!formVal()\\\" (click)=\\\"makeOrder()\\\">Confirmar orden</ion-button>\\n\\n</div>\\n\\n<br>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckoutPage } from './checkout.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckoutPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CheckoutPage]\n})\nexport class CheckoutPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoZWNrb3V0L2NoZWNrb3V0LnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ServerService } from '../service/server.service';\nimport { ToastController,LoadingController,NavController, AlertController } from '@ionic/angular';\nimport { PayPal, PayPalPayment, PayPalConfiguration } from '@ionic-native/paypal/ngx';\nimport { Stripe } from '@ionic-native/stripe/ngx';\n\n@Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.page.html',\n  styleUrls: ['./checkout.page.scss'],\n})\n\nexport class CheckoutPage implements OnInit {\n\n  data:any;\n  address:any;\n  payment:any;\n  payment_id : any;\n  total_amount:any;\n  paypal_id:any;\n  Cuenta_clave:any;\n  banco_name:any;\n  text:any;\n  stripe_id:any;\n  stripeView = false;\n  card_no:any;\n  exp_month:any;\n  exp_year:any;\n  cvv:any;\n  notes:any;\n  delivery_type:any;\n  admin:any;\n  delivery_status: any;\n  delivery_charges: any;\n  otype:number = 1;\n  comm_terminal: any;\n  user_comm_terminal: boolean = false;\n  porcent_cs: any;\n  constructor(\n    public server : ServerService,\n    public toastController: ToastController,\n    public alertController: AlertController,\n    public loadingController: LoadingController,\n    private nav: NavController,\n    private payPal: PayPal,\n    private stripe: Stripe,\n    )\n  {\n    this.text = JSON.parse(localStorage.getItem('app_text'));\n    this.address = localStorage.getItem('address_id');\n    this.admin = JSON.parse(localStorage.getItem('admin'));\n  }\n\n  ngOnInit()\n  {\n  \n  }\n\n  ionViewWillEnter()\n  {\n    if(!localStorage.getItem('user_id') || localStorage.getItem('user_id') == 'null')\n    {\n      this.nav.navigateRoot('/login');\n\n      this.presentToast(\"Please login for continue.\");\n    }\n    else\n    {\n\n      this.loadData();\n    }\n  }\n\n\n  setType(id)\n  {\n    if (id == 2) {\n      this.total_amount = Number(this.total_amount) - Number(this.delivery_charges);\n      this.delivery_status = false;\n    }else {\n      if (this.delivery_status == false) {\n        this.total_amount = Number(this.total_amount) + Number(this.delivery_charges);\n      }\n    }\n\n    this.otype = id;\n    this.payment = false;\n    this.stripeView = false;\n  }\n\n  formVal()\n  {\n    if(this.otype == 1)\n    {\n      if(!this.address || !this.payment)\n      {\n        return false;\n      }\n      else\n      {\n        return true;\n      }\n    }\n    else\n    {\n      if(!this.payment)\n      {\n        return false;\n      }\n      else\n      {\n        return true;\n      }\n    }\n  }\n\n  setPayment(id)\n  {\n    this.payment = id;\n  \n    if(id == 3)\n    {\n      this.stripeView = true;\n      if (this.user_comm_terminal == true) {\n        this.total_amount = Number(this.total_amount) - Number(this.porcent_cs);\n        this.user_comm_terminal = false;\n      }\n    }\n    else if(id == 4)\n    {\n      this.user_comm_terminal = true;\n      this.UseStripe();\n    }\n    else\n    {\n      this.stripeView = false;\n      if (this.user_comm_terminal == true) {\n        this.total_amount = Number(this.total_amount) - Number(this.porcent_cs);\n        this.user_comm_terminal = false;\n      }\n    }\n  }\n\n  async UseStripe()\n  {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Advertencia',\n      message: 'La comisión por pago con terminal es de <strong>'+this.comm_terminal+'%</strong>',\n      buttons: [\n       {\n          text: 'Aceptar',\n          handler: () => {\n            if (this.user_comm_terminal == true) {\n              this.porcent_cs = Number(this.total_amount) * Number(this.comm_terminal) / 100;\n              this.total_amount = Number(this.total_amount) + Number(this.porcent_cs);\n              this.presentToast(\"La comisión ha sido aplicada...\");\n            }\n            \n          }\n        }\n      ]\n    });\n\n    await alert.present();\n\n  }\n\n  async loadData()\n  {\n  \tconst loading = await this.loadingController.create({\n      message: 'Espere porfavor...',\n      mode: 'ios'\n    });\n    await loading.present();\n    \n    this.comm_terminal = this.admin.comm_terminal;\n    var lid = localStorage.getItem('lid') ? localStorage.getItem('lid') : 0;\n    var lat = localStorage.getItem(\"current_lat\") ? localStorage.getItem(\"current_lat\") : 0;\n    var lng = localStorage.getItem(\"current_lng\") ? localStorage.getItem(\"current_lng\") : 0;\n\n    this.server.getCart(localStorage.getItem('cart_no')+\"?lid=\"+lid+\"&lat=\"+lat+\"&lng=\"+lng).subscribe((response:any) => {\n     \n      var store_id = response.data.data[0].store_id;  \n      this.server.getDeliveryType(store_id).subscribe(data => {\n        this.delivery_type = data[0][0].service_del;\n        if (this.delivery_type == 0) {\n          this.otype = 2;\n        }\n      });\n  \n      // localStorage.getItem('user_id')\n      this.server.getAddress(localStorage.getItem('user_id')+\"?cart_no=\"+localStorage.getItem('cart_no')+\"&store=\"+store_id+\"&lid=\"+lid+\"&lat=\"+lat+\"&lng=\"+lng).subscribe((response:any) => {\n        \n      this.data         = response.data;\n    \n      if (response.data.address.length > 0) {\n        // this.address      = response.data.address[0].id; // Marcamos la primer opcion que tenga\n      }else {\n        this.nav.navigateRoot('/address');\n      }\n      this.total_amount = (response.data.total);\n      this.delivery_charges = response.data.Comercio.delivery_charges_value;\n      if(response.data.Comercio.Cuenta_clave)\n      {\n        this.Cuenta_clave = response.data.Comercio.Cuenta_clave;\n        this.banco_name   = response.data.Comercio.banco_name;\n      }\n      \n      if(this.admin.paypal_client_id)\n      {\n          this.paypal_id    = this.admin.paypal_client_id;\n      }\n\n      if(this.admin.stripe_client_id)\n      {\n         this.stripe_id    = this.admin.stripe_client_id;\n      }\n   });\n\n  \tloading.dismiss();\n\n  \t});\n  }\n\n  makeOrder()\n  {\n    if(this.payment == 2)\n    {\n      this.payPaypal();\n    }\n    else if(this.payment == 3)\n    {\n      this.payWithStripe();\n    }\n    else if(this.payment == 4)\n    {\n      this.payWithTransfer();\n    }\n    else\n    {\n      this.order();\n    }\n  }\n\n  async order()\n  {\n    const loading = await this.loadingController.create({\n      message: 'Porfavor espere...',\n      mode: 'ios'\n    });\n    await loading.present();\n    \n    var lat = localStorage.getItem(\"current_lat\") ? localStorage.getItem(\"current_lat\") : 0;\n    var lng = localStorage.getItem(\"current_lng\") ? localStorage.getItem(\"current_lng\") : 0;\n\n    var allData = {\n        user_id : localStorage.getItem('user_id'),\n        payment : this.payment,\n        address : this.address,\n        cart_no : localStorage.getItem('cart_no'),\n        payment_id : this.payment_id,\n        user_comm_terminal: this.user_comm_terminal,\n        otype : this.otype,\n        notes:this.notes,\n        lat: lat,\n        lng: lng\n      }\n\n    \n    this.server.order(allData).subscribe((response:any) => {\n     \n      if (response.data == 'Not_service') {\n        loading.dismiss();\n        this.presentToast('Sin servicio en la ubicación Seleccionada');\n      }else {\n        let LastStore = JSON.parse(localStorage.getItem('menu_item'));\n        let dataLS =  [];\n        if (localStorage.getItem('LastStore')) {\n          dataLS = JSON.parse(localStorage.getItem('LastStore'));\n          let has  = dataLS.find(id => id = LastStore.id);\n          if (has.store_id != LastStore.id) {\n            dataLS.push({\n              store_id: LastStore.id\n            });\n          }\n        }else {\n          dataLS.push({\n            store_id: LastStore.id\n          });\n        }\n\n        localStorage.setItem('LastStore', JSON.stringify(dataLS));\n\n        localStorage.setItem('order_data', JSON.stringify(response.data));\n        // Agregamos a ultimas ordenes\n\n        this.nav.navigateRoot('/done');\n\n        loading.dismiss();\n      }\n    });\n  }\n\n  payPaypal()\n  { \n      this.payPal.init({\n      PayPalEnvironmentProduction: this.paypal_id,\n      PayPalEnvironmentSandbox: this.paypal_id\n      }).then(() => {\n        // Environments: PayPalEnvironmentNoNetwork, PayPalEnvironmentSandbox, PayPalEnvironmentProduction\n        this.payPal.prepareToRender('PayPalEnvironmentProduction', new PayPalConfiguration({\n          // Only needed if you get an \"Internal Service Error\" after PayPal login!\n          //payPalShippingAddressOption: 2 // PayPalShippingAddressOptionPayPal\n        })).then(() => {\n          let payment = new PayPalPayment(this.total_amount, 'MXN', 'Description', 'sale');\n          this.payPal.renderSinglePaymentUI(payment).then((res) => {\n            \n            this.payment_id = res.response.id;\n\n            if(this.payment_id)\n            {\n              this.order();\n            }\n\n          }, () => {\n            \n            this.presentToast(\"Paypal Transaction Cancelled\");\n\n          });\n        }, () => {\n\n          this.presentToast(\"Error in configuration\");\n\n        });\n      }, () => {\n        // \n\n          this.presentToast(\"Error in initialization, maybe PayPal isn't supported\");\n\n      });\n  }\n\n  payWithStripe()\n  {\n    if(this.card_no.length > 10 && this.exp_month && this.exp_year && this.cvv)\n    {\n      \n        this.stripe.setPublishableKey(this.stripe_id);\n\n        let card = {\n         number: this.card_no,\n         expMonth: this.exp_month,\n         expYear: this.exp_year,\n         cvc: this.cvv\n        }\n        this.stripe.createCardToken(card)\n          .then(token => {\n            this.makePayment(token.id);\n          })\n          .catch(error => {\n          this.presentToast(\"Por favor ingrese detalles de pago válidos\");\n\n          });\n    }\n    else\n    {\n      this.presentToast(\"Por favor ingrese detalles de pago válidos\");\n    }\n  }\n\n  payWithTransfer() {\n    this.presentToast(\"Una vez realizada la transferencia no te olvides de enviarle el ticket al comercio.\");\n    this.payment_id = 0;\n    this.order();\n  }\n\n  async makePayment(token)\n  {\n    const loading = await this.loadingController.create({\n      message: 'Enviando Informacion...',\n      mode: 'ios'\n    });\n    await loading.present();\n\n    this.server.makeStripePayment(\"?token=\"+token+\"&amount=\"+this.total_amount).subscribe((response:any) => {\n\n    if(response.data == \"done\")\n    {\n        this.payment_id = response.id;\n\n        if(this.payment_id)\n        {\n          this.order();\n        }\n    }\n    else\n    {\n      this.presentToast(\"Algo salió mal. Por favor, vuelva a intentarlo.\");\n    }\n\n    loading.dismiss();\n\n    });\n  }\n\n \n\n  async presentToast(txt) {\n    const toast = await this.toastController.create({\n      message: txt,\n      duration: 2000,\n      position : 'bottom'\n    });\n    toast.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"checkout-checkout-module-es5.js"}