{"version":3,"sources":["./src/app/checkout/checkout.page.html","./src/app/checkout/checkout.module.ts","./src/app/checkout/checkout.page.scss","./src/app/checkout/checkout.page.ts"],"names":[],"mappings":"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","file":"checkout-checkout-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n  <ion-buttons slot=\\\"start\\\">\\n    &nbsp;<ion-icon slot=\\\"start\\\" name=\\\"arrow-back\\\" routerLink=\\\"/cart\\\" routerDirection=\\\"back\\\"></ion-icon> \\n  </ion-buttons>\\n    <ion-title>\\n      \\n      Pagar</ion-title>\\n      \\n  <ion-buttons slot=\\\"end\\\" *ngIf=\\\"data\\\">{{ total_amount | currency }} &nbsp;</ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"data\\\">\\n\\n<ion-card mode=\\\"ios\\\">\\n\\n<ion-card-header>\\n\\n<ion-card-title>Seleccionar tipo de orden</ion-card-title>\\n\\n</ion-card-header>\\n\\n<ion-card-content>\\n\\n<ion-list>\\n\\n\\n<ion-item *ngIf=\\\"delivery_type == 0\\\">\\n    <ion-label>Este comercio no tiene servicio a domicilio</ion-label>\\n</ion-item>\\n\\n<ion-item *ngIf=\\\"delivery_type == 1\\\">\\n<ion-label>Entrega a domicilio</ion-label>\\n<ion-radio slot=\\\"start\\\" value=\\\"1\\\" (ionSelect)=\\\"setType(1)\\\" [checked]=\\\"otype == 1\\\"></ion-radio>\\n</ion-item>\\n\\n<ion-item>\\n<ion-label>Recoger en tienda (No se cobrará envío)</ion-label>\\n<ion-radio slot=\\\"start\\\" value=\\\"2\\\" (ionSelect)=\\\"setType(2)\\\" [checked]=\\\"otype == 2\\\"></ion-radio>\\n</ion-item>\\n\\n</ion-list>\\n\\n</ion-card-content>\\n\\n</ion-card>\\n\\n<ion-card mode=\\\"ios\\\">\\n\\n  <ion-card-header>\\n\\n  <ion-card-title>\\n    Metodo de pago\\n  </ion-card-title>\\n\\n  </ion-card-header>\\n\\n  <ion-card-content>\\n  <ion-item style=\\\"font-size: 13px\\\">\\n    <ion-label><img src=\\\"https://image.flaticon.com/icons/svg/760/760503.svg\\\" style=\\\"width:30px\\\"> Pagar en efectivo</ion-label>\\n    <ion-radio slot=\\\"start\\\" value=\\\"1\\\" (ionSelect)=\\\"setPayment(1)\\\" [checked]=\\\"payment == 1\\\"></ion-radio>\\n  </ion-item>\\n\\n  <ion-item style=\\\"font-size: 13px\\\" *ngIf=\\\"stripe_id\\\">\\n    <ion-label><img src=\\\"https://www.flaticon.es/svg/static/icons/svg/138/138361.svg\\\" style=\\\"width: 30px\\\"> <span style=\\\"margin-top: -40px\\\">Pedir Terminal</span></ion-label>\\n    <ion-radio slot=\\\"start\\\" value=\\\"4\\\" (ionSelect)=\\\"setPayment(4)\\\" [checked]=\\\"payment == 4\\\"></ion-radio>\\n  </ion-item>\\n\\n  <ion-item style=\\\"font-size: 13px\\\" *ngIf=\\\"paypal_id\\\">\\n  <ion-label><img src=\\\"assets/paypal.png\\\" style=\\\"width: 90px\\\"> <span style=\\\"margin-top: -40px\\\">Pagar Via Paypal</span></ion-label>\\n  <ion-radio slot=\\\"start\\\" value=\\\"2\\\" (ionSelect)=\\\"setPayment(2)\\\" [checked]=\\\"payment == 2\\\"></ion-radio>\\n  </ion-item>\\n\\n\\n  <ion-item style=\\\"font-size: 13px\\\" *ngIf=\\\"stripe_id\\\">\\n    <ion-label><img src=\\\"assets/stripe.png\\\" style=\\\"width: 150px\\\"> <span style=\\\"margin-top: -40px\\\">Pagar Via Stripe</span></ion-label>\\n    <ion-radio slot=\\\"start\\\" value=\\\"3\\\" (ionSelect)=\\\"setPayment(3)\\\" [checked]=\\\"payment == 3\\\"></ion-radio>\\n  </ion-item>\\n  \\n\\n  <div *ngIf=\\\"stripeView\\\">\\n\\n    <p>Proporcione los siguientes detalles</p>\\n    \\n    <ion-row>\\n    \\n    <ion-col size=\\\"12\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Card Number</ion-label>\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"card_no\\\" name=\\\"card_no\\\"></ion-input>\\n    </ion-item>\\n    </ion-col>\\n    \\n    <ion-col size=\\\"6\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Exp Month</ion-label>\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"exp_month\\\" name=\\\"exp_month\\\"></ion-input>\\n    </ion-item>\\n    </ion-col>\\n    \\n    <ion-col size=\\\"6\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">Exp Year</ion-label>\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"exp_year\\\" name=\\\"exp_year\\\"></ion-input>\\n    </ion-item>\\n    </ion-col>\\n    \\n    <ion-col size=\\\"12\\\">\\n    <ion-item>\\n      <ion-label position=\\\"floating\\\">CVV</ion-label>\\n      <ion-input type=\\\"tel\\\" [(ngModel)]=\\\"cvv\\\" name=\\\"cvv\\\"></ion-input>\\n    </ion-item>\\n    </ion-col>\\n    \\n    </ion-row>\\n    \\n  </div>\\n  </ion-card-content>\\n\\n</ion-card>\\n\\n\\n<div class=\\\"ion-padding\\\">\\n\\n<ion-item>\\n<ion-textarea placeholder=\\\"Agrega Cualquier instrucción para la comida ... por ejemplo, extra picante\\\" [(ngModel)]=\\\"notes\\\" name=\\\"notes\\\"></ion-textarea>\\n</ion-item>\\n<br>\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"button\\\" [disabled]=\\\"!formVal()\\\" (click)=\\\"makeOrder()\\\">Confirmar orden</ion-button>\\n\\n</div>\\n\\n<br>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CheckoutPage } from './checkout.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CheckoutPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [CheckoutPage]\n})\nexport class CheckoutPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NoZWNrb3V0L2NoZWNrb3V0LnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ServerService } from '../service/server.service';\nimport { ToastController,LoadingController,NavController, AlertController } from '@ionic/angular';\nimport { PayPal, PayPalPayment, PayPalConfiguration } from '@ionic-native/paypal/ngx';\nimport { Stripe } from '@ionic-native/stripe/ngx';\n\n@Component({\n  selector: 'app-checkout',\n  templateUrl: './checkout.page.html',\n  styleUrls: ['./checkout.page.scss'],\n})\n\nexport class CheckoutPage implements OnInit {\n\n  data:any;\n  address:any;\n  payment:any;\n  payment_id : any;\n  total_amount:any;\n  paypal_id:any;\n  Cuenta_clave:any;\n  banco_name:any;\n  text:any;\n  stripe_id:any;\n  stripeView = false;\n  card_no:any;\n  exp_month:any;\n  exp_year:any;\n  cvv:any;\n  notes:any;\n  delivery_type:any;\n  admin:any;\n  delivery_status: any;\n  delivery_charges: any;\n  otype:number = 1;\n  comm_terminal: any;\n  user_comm_terminal: boolean = false;\n  porcent_cs: any;\n  constructor(\n    public server : ServerService,\n    public toastController: ToastController,\n    public alertController: AlertController,\n    public loadingController: LoadingController,\n    private nav: NavController,\n    private payPal: PayPal,\n    private stripe: Stripe,\n    )\n  {\n    this.text = JSON.parse(localStorage.getItem('app_text'));\n    this.address = localStorage.getItem('address_id');\n    this.admin = JSON.parse(localStorage.getItem('admin'));\n  }\n\n  ngOnInit()\n  {\n  \n  }\n\n  ionViewWillEnter()\n  {\n    if(!localStorage.getItem('user_id') || localStorage.getItem('user_id') == 'null')\n    {\n      this.nav.navigateRoot('/login');\n\n      this.presentToast(\"Please login for continue.\");\n    }\n    else\n    {\n\n      this.loadData();\n    }\n  }\n\n\n  setType(id)\n  {\n    if (id == 2) {\n      this.total_amount = Number(this.total_amount) - Number(this.delivery_charges);\n      this.delivery_status = false;\n    }else {\n      if (this.delivery_status == false) {\n        this.total_amount = Number(this.total_amount) + Number(this.delivery_charges);\n      }\n    }\n\n    this.otype = id;\n    this.payment = false;\n    this.stripeView = false;\n  }\n\n  formVal()\n  {\n    if(this.otype == 1)\n    {\n      if(!this.address || !this.payment)\n      {\n        return false;\n      }\n      else\n      {\n        return true;\n      }\n    }\n    else\n    {\n      if(!this.payment)\n      {\n        return false;\n      }\n      else\n      {\n        return true;\n      }\n    }\n  }\n\n  setPayment(id)\n  {\n    this.payment = id;\n  \n    if(id == 3)\n    {\n      this.stripeView = true;\n      if (this.user_comm_terminal == true) {\n        this.total_amount = Number(this.total_amount) - Number(this.porcent_cs);\n        this.user_comm_terminal = false;\n      }\n    }\n    else if(id == 4)\n    {\n      this.user_comm_terminal = true;\n      this.UseStripe();\n    }\n    else\n    {\n      this.stripeView = false;\n      if (this.user_comm_terminal == true) {\n        this.total_amount = Number(this.total_amount) - Number(this.porcent_cs);\n        this.user_comm_terminal = false;\n      }\n    }\n  }\n\n  async UseStripe()\n  {\n    const alert = await this.alertController.create({\n      cssClass: 'my-custom-class',\n      header: 'Advertencia',\n      message: 'La comisión por pago con terminal es de <strong>'+this.comm_terminal+'%</strong>',\n      buttons: [\n       {\n          text: 'Aceptar',\n          handler: () => {\n            if (this.user_comm_terminal == true) {\n              this.porcent_cs = Number(this.total_amount) * Number(this.comm_terminal) / 100;\n              this.total_amount = Number(this.total_amount) + Number(this.porcent_cs);\n              this.presentToast(\"La comisión ha sido aplicada...\");\n            }\n            \n          }\n        }\n      ]\n    });\n\n    await alert.present();\n\n  }\n\n  async loadData()\n  {\n  \tconst loading = await this.loadingController.create({\n      message: 'Espere porfavor...',\n      mode: 'ios'\n    });\n    await loading.present();\n    \n    this.comm_terminal = this.admin.comm_terminal;\n    var lid = localStorage.getItem('lid') ? localStorage.getItem('lid') : 0;\n    var lat = localStorage.getItem(\"current_lat\") ? localStorage.getItem(\"current_lat\") : 0;\n    var lng = localStorage.getItem(\"current_lng\") ? localStorage.getItem(\"current_lng\") : 0;\n\n    this.server.getCart(localStorage.getItem('cart_no')+\"?lid=\"+lid+\"&lat=\"+lat+\"&lng=\"+lng).subscribe((response:any) => {\n     \n      var store_id = response.data.data[0].store_id;  \n      this.server.getDeliveryType(store_id).subscribe(data => {\n        this.delivery_type = data[0][0].service_del;\n        if (this.delivery_type == 0) {\n          this.otype = 2;\n        }\n      });\n  \n      // localStorage.getItem('user_id')\n      this.server.getAddress(localStorage.getItem('user_id')+\"?cart_no=\"+localStorage.getItem('cart_no')+\"&store=\"+store_id+\"&lid=\"+lid+\"&lat=\"+lat+\"&lng=\"+lng).subscribe((response:any) => {\n        \n      this.data         = response.data;\n    \n      if (response.data.address.length > 0) {\n        // this.address      = response.data.address[0].id; // Marcamos la primer opcion que tenga\n      }else {\n        this.nav.navigateRoot('/address');\n      }\n      this.total_amount = (response.data.total);\n      this.delivery_charges = response.data.Comercio.delivery_charges_value;\n      if(response.data.Comercio.Cuenta_clave)\n      {\n        this.Cuenta_clave = response.data.Comercio.Cuenta_clave;\n        this.banco_name   = response.data.Comercio.banco_name;\n      }\n      \n      if(this.admin.paypal_client_id)\n      {\n          this.paypal_id    = this.admin.paypal_client_id;\n      }\n\n      if(this.admin.stripe_client_id)\n      {\n         this.stripe_id    = this.admin.stripe_client_id;\n      }\n   });\n\n  \tloading.dismiss();\n\n  \t});\n  }\n\n  makeOrder()\n  {\n    if(this.payment == 2)\n    {\n      this.payPaypal();\n    }\n    else if(this.payment == 3)\n    {\n      this.payWithStripe();\n    }\n    else if(this.payment == 4)\n    {\n      this.payWithTransfer();\n    }\n    else\n    {\n      this.order();\n    }\n  }\n\n  async order()\n  {\n    const loading = await this.loadingController.create({\n      message: 'Porfavor espere...',\n      mode: 'ios'\n    });\n    await loading.present();\n    \n    var lat = localStorage.getItem(\"current_lat\") ? localStorage.getItem(\"current_lat\") : 0;\n    var lng = localStorage.getItem(\"current_lng\") ? localStorage.getItem(\"current_lng\") : 0;\n\n    var allData = {\n        user_id : localStorage.getItem('user_id'),\n        payment : this.payment,\n        address : this.address,\n        cart_no : localStorage.getItem('cart_no'),\n        payment_id : this.payment_id,\n        user_comm_terminal: this.user_comm_terminal,\n        otype : this.otype,\n        notes:this.notes,\n        lat: lat,\n        lng: lng\n      }\n\n    \n    this.server.order(allData).subscribe((response:any) => {\n     \n      if (response.data == 'Not_service') {\n        loading.dismiss();\n        this.presentToast('Sin servicio en la ubicación Seleccionada');\n      }else {\n        let LastStore = JSON.parse(localStorage.getItem('menu_item'));\n        let dataLS =  [];\n        if (localStorage.getItem('LastStore')) {\n          dataLS = JSON.parse(localStorage.getItem('LastStore'));\n          let has  = dataLS.find(id => id = LastStore.id);\n          if (has.store_id != LastStore.id) {\n            dataLS.push({\n              store_id: LastStore.id\n            });\n          }\n        }else {\n          dataLS.push({\n            store_id: LastStore.id\n          });\n        }\n\n        localStorage.setItem('LastStore', JSON.stringify(dataLS));\n\n        localStorage.setItem('order_data', JSON.stringify(response.data));\n        // Agregamos a ultimas ordenes\n\n        this.nav.navigateRoot('/done');\n\n        loading.dismiss();\n      }\n    });\n  }\n\n  payPaypal()\n  { \n      this.payPal.init({\n      PayPalEnvironmentProduction: this.paypal_id,\n      PayPalEnvironmentSandbox: this.paypal_id\n      }).then(() => {\n        // Environments: PayPalEnvironmentNoNetwork, PayPalEnvironmentSandbox, PayPalEnvironmentProduction\n        this.payPal.prepareToRender('PayPalEnvironmentProduction', new PayPalConfiguration({\n          // Only needed if you get an \"Internal Service Error\" after PayPal login!\n          //payPalShippingAddressOption: 2 // PayPalShippingAddressOptionPayPal\n        })).then(() => {\n          let payment = new PayPalPayment(this.total_amount, 'MXN', 'Description', 'sale');\n          this.payPal.renderSinglePaymentUI(payment).then((res) => {\n            \n            this.payment_id = res.response.id;\n\n            if(this.payment_id)\n            {\n              this.order();\n            }\n\n          }, () => {\n            \n            this.presentToast(\"Paypal Transaction Cancelled\");\n\n          });\n        }, () => {\n\n          this.presentToast(\"Error in configuration\");\n\n        });\n      }, () => {\n        // \n\n          this.presentToast(\"Error in initialization, maybe PayPal isn't supported\");\n\n      });\n  }\n\n  payWithStripe()\n  {\n    if(this.card_no.length > 10 && this.exp_month && this.exp_year && this.cvv)\n    {\n      \n        this.stripe.setPublishableKey(this.stripe_id);\n\n        let card = {\n         number: this.card_no,\n         expMonth: this.exp_month,\n         expYear: this.exp_year,\n         cvc: this.cvv\n        }\n        this.stripe.createCardToken(card)\n          .then(token => {\n            this.makePayment(token.id);\n          })\n          .catch(error => {\n          this.presentToast(\"Por favor ingrese detalles de pago válidos\");\n\n          });\n    }\n    else\n    {\n      this.presentToast(\"Por favor ingrese detalles de pago válidos\");\n    }\n  }\n\n  payWithTransfer() {\n    this.presentToast(\"Una vez realizada la transferencia no te olvides de enviarle el ticket al comercio.\");\n    this.payment_id = 0;\n    this.order();\n  }\n\n  async makePayment(token)\n  {\n    const loading = await this.loadingController.create({\n      message: 'Enviando Informacion...',\n      mode: 'ios'\n    });\n    await loading.present();\n\n    this.server.makeStripePayment(\"?token=\"+token+\"&amount=\"+this.total_amount).subscribe((response:any) => {\n\n    if(response.data == \"done\")\n    {\n        this.payment_id = response.id;\n\n        if(this.payment_id)\n        {\n          this.order();\n        }\n    }\n    else\n    {\n      this.presentToast(\"Algo salió mal. Por favor, vuelva a intentarlo.\");\n    }\n\n    loading.dismiss();\n\n    });\n  }\n\n \n\n  async presentToast(txt) {\n    const toast = await this.toastController.create({\n      message: txt,\n      duration: 2000,\n      position : 'bottom'\n    });\n    toast.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}