{"version":3,"sources":["src/app/account/forgot/forgot.page.html","src/app/account/forgot/forgot.module.ts","src/app/account/forgot/forgot.page.scss","src/app/account/forgot/forgot.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar color=\\\"white\\\">\\n  <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>¿Olvidaste tu contraseña?</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n<!--Send email for otp-->\\n<form *ngIf=\\\"!user_id && !newPassword\\\" #form=\\\"ngForm\\\" (ngSubmit)=\\\"forgot(form.value)\\\">\\n\\n  <p style=\\\"color: rgb(82, 82, 82);font-family: 'SF Pro Display';font-weight: 400;text-align: center;\\\">\\n    ingrese su correo electrónico y le enviaremos instrucciones sobre cómo restablecerlo\\n  </p>\\n  <br />\\n  <ion-row>\\n    <ion-col size=\\\"3\\\" style=\\\"margin-top: 10.5px !important;\\\">\\n     <span>Email</span>\\n    </ion-col>\\n    <ion-col size=\\\"9\\\">\\n      <ion-input type=\\\"email\\\" ngModel clearInput required name=\\\"email\\\" placeholder=\\\"Ingresa tu Email\\\"></ion-input>\\n    </ion-col>\\n  </ion-row>\\n\\n<br>\\n\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Enviar</ion-button>\\n<br>\\n</form>\\n\\n<!--Verify OTP code-->\\n<div *ngIf=\\\"user_id && !newPassword\\\">\\n\\n  <ion-card-header>\\n  <ion-card-title>Verifique su correo electrónico</ion-card-title>\\n  <ion-card-subtitle>Se ha enviado un codigo a su correo electrónico {{ this.email }}</ion-card-subtitle>\\n\\n  </ion-card-header>\\n  <br><br>\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"verify(form.value)\\\">\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Ingresa el codigo</ion-label>\\n    <ion-input type=\\\"email\\\" ngModel required name=\\\"otp\\\"></ion-input>\\n  </ion-item>\\n\\n  <br>\\n\\n  <ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Verificar</ion-button>\\n\\n  </form>\\n  <p align=\\\"center\\\">No obtuviste el codigo? <a (click)=\\\"resend()\\\">Reenviar</a></p>\\n\\n</div>\\n\\n<!--Set New Password-->\\n<div *ngIf=\\\"user_id && newPassword\\\">\\n\\n<ion-card-header>\\n<ion-card-title>Establecer nueva contraseña</ion-card-title>\\n\\n</ion-card-header>\\n<br><br>\\n<form #form=\\\"ngForm\\\" (ngSubmit)=\\\"new_password(form.value)\\\">\\n\\n<ion-item>\\n  <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Nueva contraseña\\n  </ion-label>\\n  <ion-input type=\\\"password\\\" ngModel required name=\\\"password\\\"></ion-input>\\n</ion-item>\\n\\n<ion-item>\\n  <ion-label position=\\\"floating\\\" style=\\\"font-size: 12px\\\">Confirmar contraseña</ion-label>\\n  <ion-input type=\\\"password\\\" ngModel required name=\\\"new_password\\\"></ion-input>\\n</ion-item>\\n\\n<br>\\n\\n<ion-button expand=\\\"block\\\" mode=\\\"ios\\\" type=\\\"submit\\\">Actualizar</ion-button>\\n\\n</form>\\n<p align=\\\"center\\\">No obtuviste el codigo? <a (click)=\\\"resend()\\\">Reenviar</a></p>\\n\\n</div>\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ForgotPage } from './forgot.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ForgotPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ForgotPage]\n})\nexport class ForgotPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvZm9yZ290L2ZvcmdvdC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ServerService } from '../../service/server.service';\nimport { ToastController,NavController,Platform,LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-forgot',\n  templateUrl: './forgot.page.html',\n  styleUrls: ['./forgot.page.scss'],\n})\nexport class ForgotPage implements OnInit {\n\n  user_id:any;\n  newPassword = false;\n  email:any;\n  text:any;\n  constructor(public server : ServerService,public toastController: ToastController,private nav: NavController,public loadingController: LoadingController) { \n\n   this.text = JSON.parse(localStorage.getItem('app_text'));\n\n  }\n\n  ngOnInit() {\n  }\n\n  async forgot(data,type = \"new\")\n  {\n\t\n  \tif(type == \"new\" && data.email.length == 0)\n  \t{\n  \t\tthis.presentToast('Porfavor Ingresa un Correo electronico','warning');\n  \t}\n  \telse\n  \t{\n\t\tconst loading = await this.loadingController.create({\n\t\tmessage: 'Porfavor espere...',\n\t\tmode:'ios'\n\t\t});\n\t\tawait loading.present();\n\n\t\tthis.server.forgot(data).subscribe((response:any) => {\n\t\t\t\n\t\tif(response.msg == \"error\")\n\t\t{\n\t\t\tthis.presentToast(response.error,'danger');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.presentToast(\"El codigo de recuperación ha sido enviado\",'primary');\n\t\t\tthis.user_id = response.user_id;\n\t\t\tthis.email   = data.email;\n\t\t\t\n\t\t}\n\n\t\tloading.dismiss();\n\n\t\t});\n  \t}\n  }\n\n  async verify(data)\n  {\n  \tif(data.otp.length == 0)\n  \t{\n  \t\tthis.presentToast('Porfavor ingresa el codigo.','warning');\n  \t}\n  \telse\n  \t{\n\t\tconst loading = await this.loadingController.create({\n\t\tmessage: 'Porfavor espera...',\n\t\tduration: 3000,\n\t\tmode:'ios'\n\t\t});\n\t\tawait loading.present();\n\n\t\tvar allData = {otp : data.otp,user_id : this.user_id}\n\n\t\tthis.server.verify(allData).subscribe((response:any) => {\n\n\t\tif(response.msg == \"error\")\n\t\t{\n\t\t\tthis.presentToast(response.error,'danger');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.user_id \t   = response.user_id;\n\t\t\tthis.newPassword   = true;\n\n\t\t\tthis.presentToast(\"Correo verificado con exito.\", 'success');\n\t\t}\n\n\t\tloading.dismiss();\n\n\t\t});\n  \t}\n  }\n\n  async new_password(data)\n  {\n  \tif(data.password.length == 0)\n  \t{\n  \t\tthis.presentToast('Porfavor ingresa tu nueva contraseña','warning');\n  \t}\n  \telse if(data.password != data.new_password)\n  \t{\n  \t\tthis.presentToast('Confirme que las contraseñas coincidan.','warning');\n  \t}\n  \telse\n  \t{\n\t\tconst loading = await this.loadingController.create({\n\t\tmessage: 'Please wait...',\n\t\tduration: 3000,\n\t\tmode:'ios'\n\t\t});\n\t\tawait loading.present();\n\n\t\tvar allData = {password : data.password,user_id : this.user_id}\n\n\t\tthis.server.updatePassword(allData).subscribe((response:any) => {\n\n\t\tif(response.msg == \"error\")\n\t\t{\n\t\t\tthis.presentToast(response.error,'danger');\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.nav.navigateForward('/city');\n\t\t\tthis.presentToast(\"Nueva contraseña actualizada con éxito.\",'success');\n\t\t\t\n\t\t}\n\n\t\tloading.dismiss();\n\n\t\t});\n  \t}\n  }\n\n  async presentToast(txt, color) {\n    const toast = await this.toastController.create({\n      message: txt,\n      duration: 3000,\n      position : 'top',\n      mode:'ios',\n      color:color\n    });\n    toast.present();\n  }\n\n  resend()\n  {\n  \tthis.forgot({email : this.email});\n  }\n}\n"],"sourceRoot":"webpack:///","file":"account-forgot-forgot-module-es5.js"}